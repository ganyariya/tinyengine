# フェーズ2.2 ビジュアルサンプル: カラフルな三角形表示

## 概要

このサンプルは、TinyEngineのフェーズ2.2で実装したシェーダーシステムの動作確認を行います。

## 実装内容

- Shader構造体（OpenGLシェーダー管理）
- 頂点シェーダー・フラグメントシェーダー
- ShaderManager（シェーダープログラム管理）
- 時間ベースのユニフォーム変数制御

## 期待される動作

1. 800x600のウィンドウが作成される
2. カラフルな三角形が中央に表示される
   - 上の頂点: 赤色
   - 左下の頂点: 緑色
   - 右下の頂点: 青色
3. 三角形に美しいグラデーション効果が適用される
4. 時間と共に明度が脈動的に変化する
5. 5秒後にウィンドウが正常に閉じる

## 実行方法

```bash
cd examples/phase2-2
go run main.go
```

## 確認項目

実行後、以下の項目を確認してください：

- [ ] カラフルな三角形が表示された
- [ ] 上の頂点が赤色で表示された
- [ ] 左下の頂点が緑色で表示された
- [ ] 右下の頂点が青色で表示された
- [ ] 三角形にグラデーション効果があった
- [ ] 時間と共に明度が変化していた
- [ ] 5秒後にウィンドウが正常に閉じた

## 技術詳細

このサンプルで使用している技術：

### シェーダーシステム
- **頂点シェーダー**: 頂点位置と色を処理
- **フラグメントシェーダー**: ピクセル色を計算
- **ユニフォーム変数**: 時間とアルファ値の動的制御

### OpenGL技術
- **VAO/VBO**: 頂点データの効率的な管理
- **頂点属性**: 位置（location=0）と色（location=1）の分離
- **インターリーブド配列**: 位置と色を同一バッファで管理

### 数学的効果
- **線形補間**: 頂点間の色グラデーション
- **正弦波**: 時間ベースの明度変化 `sin(time * 2.0)`

## 頂点データ構造

```
頂点データ（6要素/頂点）:
[x, y, z, r, g, b]

三角形データ:
頂点1: [ 0.0,  0.5, 0.0, 1.0, 0.0, 0.0] // 上-赤
頂点2: [-0.5, -0.5, 0.0, 0.0, 1.0, 0.0] // 左下-緑
頂点3: [ 0.5, -0.5, 0.0, 0.0, 0.0, 1.0] // 右下-青
```

## シェーダーコード

### 頂点シェーダー
```glsl
#version 410 core
layout (location = 0) in vec3 aPos;     // 頂点位置
layout (location = 1) in vec3 aColor;   // 頂点色

out vec3 vertexColor;

void main() {
    gl_Position = vec4(aPos, 1.0);
    vertexColor = aColor;
}
```

### フラグメントシェーダー
```glsl
#version 410 core
in vec3 vertexColor;
out vec4 FragColor;

uniform float alpha;    // 透明度
uniform float time;     // 時間

void main() {
    vec3 color = vertexColor;
    
    // 時間ベースの明度変化
    float brightness = 0.5 + 0.5 * sin(time * 2.0);
    color *= brightness;
    
    FragColor = vec4(color, alpha);
}
```

## トラブルシューティング

### OpenGLエラーが発生する場合
- OpenGL 4.1以上をサポートするグラフィックスカードが必要
- 最新のグラフィックスドライバを使用してください

### 三角形が表示されない場合
- シェーダーコンパイルエラーの確認
- 頂点データの正確性を確認

### 色が正しく表示されない場合
- 頂点属性の設定を確認
- シェーダーのuniform変数バインディングを確認

## スクリーンショット

*TODO: 実際の実行時にスクリーンショットを追加*