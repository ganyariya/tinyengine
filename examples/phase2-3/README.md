# Phase 2.3: 基本図形描画ギャラリー

このサンプルは、TinyEngineのフェーズ2.3で実装した基本図形描画機能のデモンストレーションです。

## 実装内容

### 新機能
- **Primitive基底クラス**: 矩形、円、線の共通インターフェース
- **Color構造体**: RGBA色情報の管理
- **拡張Rendererインターフェース**: 色付き図形描画メソッド
- **OpenGL描画最適化**: VBO/VAO/EBOを使用した効率的な描画

### 描画される図形

#### 1. 色とりどりの矩形
- 赤、緑、青、黄、紫の5つの矩形
- 異なるサイズと位置で配置

#### 2. 様々な円
- シアン、オレンジ、ピンク、ライムグリーン、半透明水色
- 異なる半径で描画

#### 3. カラフルな線
- 水平、垂直、斜めの直線
- ジグザグパターンの組み合わせ

#### 4. Primitiveオブジェクト直接使用
- カスタム矩形（グラデーション風配置）
- 異なるセグメント数の円（六角形、八角形、滑らかな円）
- アート風の線の組み合わせ

## 実行方法

```bash
# プロジェクトルートから実行
go run examples/phase2-3/main.go

# またはビルドしてから実行
go build -o bin/phase2-3-gallery examples/phase2-3/main.go
./bin/phase2-3-gallery
```

## トラブルシューティング

### 図形が表示されない場合
1. **OpenGLコンテキストの確認**: macOSでは適切なOpenGLコンテキストが必要です
2. **シェーダーコンパイル**: ログにシェーダーエラーが出ていないか確認
3. **座標系**: NDC（正規化デバイス座標）への変換が正しく行われているか確認

### ログ出力の追加
デバッグのため、描画関数内にログを追加できます：
```go
fmt.Printf("Drawing %s with color R:%.2f G:%.2f B:%.2f A:%.2f\n", 
    primitiveTypeName, color.R, color.G, color.B, color.A)
```

## 操作方法

- **ESCキー**: アプリケーション終了

## 技術的な特徴

### Primitive基底クラス設計
```go
type Primitive interface {
    GetVertices() []float32
    GetIndices() []uint32
    GetColor() Color
    GetType() PrimitiveType
}
```

### 色管理システム
```go
type Color struct {
    R, G, B, A float32
}
```

### 描画最適化
- OpenGLのVBO（Vertex Buffer Object）を使用
- EBO（Element Buffer Object）でインデックス描画
- 各図形描画後の適切なリソース解放

## 学習ポイント

1. **オブジェクト指向設計**: Primitiveインターフェースによる共通化
2. **OpenGL基礎**: 頂点データとインデックスによる描画
3. **色空間**: RGBA色モデルの理解
4. **メモリ管理**: OpenGLリソースの適切な生成と解放
5. **図形数学**: 円の頂点計算、矩形の三角形分割

## 次のステップ

このフェーズの完了により、以下が実現されました：

- ✅ 基本図形（矩形、円、線）の描画
- ✅ 色付き描画システム
- ✅ Primitiveベースのオブジェクト指向設計
- ✅ OpenGL描画パイプラインの基本実装

次のフェーズ2.4では、座標変換システム（回転、拡大、移動）を実装します。

## スクリーンショット

実行すると、カラフルな図形ギャラリーが表示されます：
- 上部: 色とりどりの矩形
- 中央: 様々な色とサイズの円
- 下部: カラフルな線とアート風パターン

---

**TinyEngine Phase 2.3 完了** 🎨
基本図形描画システムの実装が完了しました！